@prefix sh: <http://www.w3.org/ns/shacl#> .
@prefix skos: <http://www.w3.org/2004/02/skos/core#> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix dcterms: <http://purl.org/dc/terms/> .
@prefix ldto: <https://data.razu.nl/def/ldto/> .

@prefix ex: <http://www.example.com/#> .  

# Validatie voor RAZU begrippenlijsten:
ex:ConceptShape a sh:NodeShape ;
    sh:targetClass skos:Concept ; 
    sh:property [
        sh:path skos:prefLabel ;
        sh:datatype rdf:langString ;
        sh:minCount 1 ; 
        sh:qualifiedValueShape [
            sh:datatype rdf:langString ;
            sh:languageIn ( "nl" ) ;
        ] ;
        sh:qualifiedMinCount 1 ;
    ] ;
    sh:property [
        sh:path skos:inScheme ;
        sh:class skos:ConceptScheme ; 
        sh:minCount 1 ; 
        sh:maxCount 1 ;  
    ] ;
    sh:property [
        sh:path skos:description ;
        sh:or ( 
            [ sh:datatype xsd:string ]  
            [ sh:datatype rdf:langString ]  
        ) ;
        sh:minCount 0 ; 
    ] ;
    sh:property [
        sh:path skos:altLabel ;
        sh:or ( 
            [ sh:datatype xsd:string ]  
            [ sh:datatype rdf:langString ] 
        ) ;
        sh:minCount 0 ;  
    ] ;
    sh:property [
        sh:path skos:note ;
        sh:or ( 
            [ sh:datatype xsd:string ] 
            [ sh:datatype rdf:langString ]  
        ) ;
        sh:minCount 0 ; 
    ] ;
    sh:property [
        sh:path skos:exactMatch ;
        sh:nodeKind sh:IRI ; 
        sh:minCount 0 ; 
    ] ;
    sh:nodeKind sh:IRI ; 
    sh:pattern "^https://data\\.razu\\.nl/id/[^/]+/[^/]+$" .  # Verzekert dat de URI voldoet aan het patroon https://data.razu.nl/id/*/* .

# Shape voor skos:ConceptScheme entiteiten
ex:ConceptSchemeShape a sh:NodeShape ;
    sh:targetClass skos:ConceptScheme ;  
    sh:property [
        sh:path skos:prefLabel ;
        sh:or ( 
            [ sh:datatype xsd:string ]  
            [ sh:datatype rdf:langString ]  
        ) ;
        sh:minCount 1 ; 
    ] ;
    sh:property [
        sh:path skos:description ;
        sh:or (  
            [ sh:datatype xsd:string ]  
            [ sh:datatype rdf:langString ]
        ) ;
        sh:minCount 1 ; 
    ] ;
    sh:property [
        sh:path dcterms:hasFormat ;
        sh:minCount 1 ; 
        sh:maxCount 1 ;
        sh:nodeKind sh:IRI ;
        sh:pattern "^https://context\\.data\\.razu\\.nl/[a-z0-9]+\\.json$"
    ] ;
    sh:nodeKind sh:IRI ; 
    sh:pattern "^https://data\\.razu\\.nl/id/[^/]+/[^/]+$" .  # Verzekert dat de URI voldoet aan het patroon https://data.razu.nl/id/*/* .

ex:ThingsInThisSchemeMustBeActor
  a sh:NodeShape ;

  sh:target [
    a sh:SPARQLTarget ;
    sh:select """
      SELECT ?this WHERE {
        ?this skos:inScheme <https://data.razu.nl/id/actor/bd4867122112bf6248d97334ea20479e> .
      }
    """ ;
  ] ;

  sh:property [
    sh:path rdf:type ;
    sh:hasValue ldto:Actor ;
    sh:minCount 1 ;
  ] .

ex:ThingsInThisSchemeMustBeLocatie
  a sh:NodeShape ;

  sh:target [
    a sh:SPARQLTarget ;
    sh:select """
      SELECT ?this WHERE {
        ?this skos:inScheme <https://data.razu.nl/id/locatie/00c28ef1f380c89a94e3b00e5c865a43>  .
      }
    """ ;
  ] ;

  sh:property [
    sh:path rdf:type ;
    sh:hasValue ldto:Locatie ;
    sh:minCount 1 ;
  ] .